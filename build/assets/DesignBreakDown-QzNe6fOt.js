import{r as c,P as b,j as s,B as x,m,x as j}from"./index-BDY7Gtkl.js";import u from"./BDTickets-BFGwzItT.js";const N=()=>{const{selectedMenu:e,setSelectedMenu:t}=c.useContext(b);return s.jsxs("div",{className:"bd-container",children:[s.jsx("button",{onClick:()=>t("tickets"),className:e!=="tickets"?"bd-deactivated":"",children:"Tickets"}),s.jsx("button",{onClick:()=>t("dashboard"),className:e!=="dashboard"?"bd-deactivated":"",children:"Dashboard"})]})},p=()=>{const{layoutObject:e}=c.useContext(x),t=e.blocks.reduce((a,r)=>a+r.totalBprice,0),n=e.blocks.reduce((a,r)=>a+r.tables.length,0),i=e.blocks.reduce((a,r)=>a+r.tables.reduce((d,h)=>d+h.ticketsIncluded,0),0);console.log("ticketsIncluded:",i);const o=e.blocks.reduce((a,r)=>(console.log("totalTickets:",r.btickets),a+r.btickets),0);console.log("totalBprice:",t),console.log("From BDDashborad:",e);function l(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}return s.jsxs("div",{className:"dashboard-container",children:[s.jsxs("div",{className:"dashboard-layout ",children:[s.jsx("h1",{className:"dashboard-title-h1 dasboard-layout-title",children:"Layout"}),s.jsx("div",{className:"dashboard-layout-parent",children:s.jsxs("div",{style:{transform:"scale(0.55)",border:"2px solid black",width:`${e.width}px`,height:`${e.height}px`,position:"relative"},children:[e.shapes.map((a,r)=>s.jsx("div",{style:{position:"absolute",width:`${a.width}px`,height:`${a.height}px`,backgroundColor:`${a.backgroundColor}`,left:`${a.x}px`,top:`${a.y}px`,display:"flex",justifyContent:"center",alignItems:"center",color:`${a.color}`},children:s.jsx("h1",{className:"dashboard-table-number-child ",style:{fontSize:`${a.fontSize}px`},children:a.name})},r)),e.blocks.map((a,r)=>s.jsxs("div",{style:{position:"absolute",width:`${a.width}px`,height:`${a.height}px`,backgroundColor:`${a.backgroundColor}`,left:`${a.x}px`,top:`${a.y}px`,justifyContent:`${a.justifyContent}`,alignItems:`${a.alignItems}`,color:`${a.color}`,border:`${a.borderSize}px solid ${a.borderColor}`,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},className:"dasboard-table-hover",children:[s.jsx("h1",{className:"dashboard-table-number-child dashboard-block-name-display",style:{fontSize:`${a.fontSize}px`},children:a.name}),s.jsx("div",{className:"dashboard-table-grid",children:a.tables.map((d,h)=>s.jsx("div",{style:{position:"absolute",width:`${d.width}px`,height:`${d.height}px`,backgroundColor:`${d.backgroundColor}`,left:`${d.x}px`,top:`${d.y}px`,justifyContent:`${d.justifyContent}`,alignItems:`${d.alignItems}`,color:`${d.color}`,border:`${d.borderSize}px solid ${d.borderColor}`,borderRadius:`${d.tableType==="Square"?0:50}%`},className:"dashboard-table-number-parent",children:s.jsx("h1",{className:"dashboard-table-number-parent",children:d.number})},h))})]},r))]})})]}),s.jsxs("div",{className:"dashboard-ticket-sales",children:[s.jsxs("div",{className:"dasboard-box",children:[s.jsxs("div",{className:"dashboard-separator",children:[s.jsxs("div",{className:"dashboard-box-title",children:[s.jsx("h1",{className:"dashboard-title-h1",children:"Tickets"}),s.jsx("h1",{className:"dashboard-title-more",children:"More"})]}),s.jsx("div",{className:"dashboard-grid",children:e.blocks.map(a=>s.jsxs("div",{className:"dashboard-grid-item",children:[s.jsx("h1",{className:"dashboard-block-name",children:a.name}),a.tables.length?s.jsxs("div",{className:"dashboard-item-container",children:[s.jsxs("h1",{className:"dashboard-block-name",children:[s.jsx("span",{className:"dashboard-square"})," ",s.jsx("h1",{className:"dashboard-table-name",children:"Tables:"}),s.jsx("h1",{className:"dashboard-table-quantity",children:a.tables.length})]}),s.jsxs("h1",{className:"dashboard-block-name dashboard-nomargin",children:[s.jsx("span",{className:"dashboard-circle dashboard-tickets-label"})," ",s.jsx("h1",{className:"dashboard-table-name ",children:"Tickets:"}),s.jsx("h1",{className:"dashboard-table-quantity",children:a.btickets})]}),s.jsxs("h1",{className:"dashboard-block-name dashboard-nomargin",children:[s.jsx("span",{className:"dashboard-circle dashboard-tickets-label"})," ",s.jsx("h1",{className:"dashboard-table-name dashboard-included",children:"Included:"}),s.jsx("h1",{className:"dashboard-table-quantity ",children:a.totalTicketsIncluded})]}),s.jsx("h1",{className:"dashboard-total-container dashboard-nomargin",children:s.jsxs("h1",{className:"dashboard-table-quantity dashboard-total-green dashboard-total ",children:["$",l(a.bprice)]})})]}):null,a.tables.length?null:s.jsxs("div",{className:"dashboard-item-container",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"dashboard-block-name",children:[s.jsx("span",{className:"dashboard-circle"})," ",s.jsx("h1",{className:"dashboard-table-name",children:"Tickets:"}),s.jsx("h1",{className:"dashboard-table-quantity",children:a.btickets})]}),s.jsxs("div",{className:"dashboard-block-name dashboard-price",children:[s.jsx("span",{className:"dashboard-price-icon"})," ",s.jsx("h1",{className:"dashboard-table-name",children:"Price:"}),s.jsxs("h1",{className:"dashboard-table-quantity ",children:["$",a.bprice]})]})]}),s.jsx("div",{className:"dashboard-total-container dashboard-nomargin",children:s.jsxs("h1",{className:"dashboard-table-quantity dashboard-total dashboard-total-green",children:["$",l(a.bprice*a.btickets)]})})]})]}))})]}),s.jsxs("div",{className:"dashboard-box-footer",children:[s.jsxs("h1",{className:"dashboard-footer-text",children:[s.jsx("span",{className:"red-span",children:"$"})," Not Purchasable"]}),s.jsxs("h1",{className:"dashboard-footer-text",children:[s.jsx("span",{className:"green-span",children:"$"})," Purchasable"]})]})]}),s.jsxs("div",{className:"dashboard-box-two",children:[s.jsxs("div",{className:"dashboard-box-title",children:[s.jsx("h1",{className:"dashboard-title-h1",children:"Sales"}),s.jsx("h1",{className:"dashboard-title-more",children:"More"})]}),s.jsxs("div",{className:"dashboard-sales-container",children:[s.jsxs("div",{className:"dasboard-circle",children:[s.jsx("h1",{className:"dasboard-sales",children:l(t)}),s.jsxs("h1",{className:"dasboard-sales-subtitle",children:["Possible ",s.jsx("br",{}),"Earnings"]})]}),s.jsxs("div",{className:"dasboard-circle",children:[s.jsx("h1",{className:"dasboard-sales",children:l(n)}),s.jsxs("h1",{className:"dasboard-sales-subtitle",children:["Total ",s.jsx("br",{}),"Tables"]})]}),s.jsxs("div",{className:"dasboard-circle",children:[s.jsx("h1",{className:"dasboard-sales",children:l(o)}),s.jsxs("h1",{className:"dasboard-sales-subtitle",children:["Total ",s.jsx("br",{}),"Tickets"]})]}),s.jsxs("div",{className:"dasboard-circle-red",children:[s.jsx("h1",{className:"dasboard-sales",children:l(i)}),s.jsxs("h1",{className:"dasboard-sales-subtitle",children:["Tickets ",s.jsx("br",{}),"Included"]})]})]}),s.jsxs("div",{className:"dashboard-box-footer-two",children:[s.jsxs("h1",{className:"dashboard-footer-text",children:[s.jsx("span",{className:"red-span",children:"$"})," Not Purchasable"]}),s.jsxs("h1",{className:"dashboard-footer-text",children:[" ",s.jsx("span",{className:"green-span",children:"$"})," Purchasable"]})]})]})]})]})},$=()=>{const{selectedMenu:e}=c.useContext(b),{setLayoutObject:t}=c.useContext(x),n=m(),i=async()=>{const o=await j(n.layoutIdParam);console.log("------ Dashboard -------"),console.log("getTheLayout:",o),o.success&&t(o.layout)};return c.useEffect(()=>{i()},[]),s.jsxs("div",{className:"design-breakdown-page",children:[s.jsx(N,{}),e==="tickets"&&s.jsx(u,{}),e==="dashboard"&&s.jsx(p,{})]})};export{$ as default};
