import{u,j as e,r as m,A as h,N as g,f as p}from"./index-3IoUkqD2.js";import{S as x,N as f,P as j,a as N,A as w,b as y}from"./swiper-bundle-C1visCNF.js";const D=({events:i})=>{const l=u(),d=s=>{const r=new Date(s),t=new Date,o=r.setHours(0,0,0,0)-t.setHours(0,0,0,0),n=Math.floor(o/(1e3*3600*24));return n===0?"Hoy":n===1?"MaÃ±ana":n>1&&n<7?`Este ${r.toLocaleString("es-ES",{weekday:"long"})}`:new Intl.DateTimeFormat("es-ES",{month:"short",day:"2-digit",year:"numeric"}).format(r)};i==null||i.filter(s=>{const r=new Date(s.date),t=new Date;return r.setHours(0,0,0,0)>=t.setHours(0,0,0,0)});const c=s=>{const[r,t]=s.split(":");let o=parseInt(r,10);const n=o>=12?"PM":"AM";return o=o%12||12,`${o}:${t} ${n}`},a=s=>{l(`/event-details/${s}`)};return e.jsx(x,{modules:[f,j,N,w],spaceBetween:50,slidesPerView:5,breakpoints:{320:{slidesPerView:1,navigation:!1},640:{slidesPerView:3,navigation:!0},768:{slidesPerView:4,navigation:!0}},className:"thisweek-container",pagination:{clickable:!0},children:i&&i.sort((s,r)=>new Date(r.createdAt)-new Date(s.createdAt)).slice(0,4).map(s=>{var r,t;return e.jsxs(y,{className:"featured-events-container",onClick:()=>a(s._id),children:[e.jsx("div",{style:{backgroundImage:`url(${s.images&&s.images.length>0&&s.images[0]!==""?s.images[0]:"/no-image.jpg"})`,backgroundSize:"100%",backgroundRepeat:"no-repeat",width:"100%",borderRadius:"10px"},className:"event-image"}),e.jsx("h1",{className:"featured-event-fonts featured-event-name",children:s==null?void 0:s.name}),e.jsxs("h1",{className:"featured-event-fonts",children:[(r=s==null?void 0:s.address)==null?void 0:r.state,", ",(t=s==null?void 0:s.address)==null?void 0:t.city]}),e.jsxs("h1",{className:"featured-event-fonts",children:[d(s==null?void 0:s.date)," - ",c(s==null?void 0:s.time)]}),e.jsx("h1",{className:"featured-event-fonts"})]},s._id)})})},b=({events:i})=>{const l=a=>{const s=new Date(a),r=new Date,t=s.setHours(0,0,0,0)-r.setHours(0,0,0,0),o=Math.floor(t/(1e3*3600*24));return o===0?"Hoy":o===1?"MaÃ±ana":o>1&&o<7?`Este ${s.toLocaleString("es-ES",{weekday:"long"})}`:new Intl.DateTimeFormat("es-ES",{month:"short",day:"2-digit",year:"numeric"}).format(s)},d=a=>{const[s,r]=a.split(":");let t=parseInt(s,10);const o=t>=12?"PM":"AM";return t=t%12||12,`${t}:${r} ${o}`},c=i==null?void 0:i.filter(a=>{const s=new Date(a.date),r=new Date;return s.setHours(0,0,0,0)>=r.setHours(0,0,0,0)});return e.jsx("div",{className:"upcoming-events-container",children:c&&(c==null?void 0:c.length)>0?c.sort((a,s)=>new Date(a.date)-new Date(s.date)).map(a=>{var s,r;return e.jsxs("div",{className:"upcoming-event-item",children:[e.jsx("div",{style:{backgroundImage:`url(${a.images&&a.images.length>0&&a.images[0]!==""?a.images[0]:"/no-image.jpg"})`,backgroundSize:"100%",backgroundRepeat:"no-repeat",width:"85px",height:"100px",borderTopLeftRadius:"10px",borderBottomLeftRadius:"10px"},className:"event-image"}),e.jsxs("div",{className:"upcoming-event-fields",children:[e.jsx("h1",{className:"",children:a==null?void 0:a.name}),e.jsxs("h1",{className:"",children:[(s=a==null?void 0:a.address)==null?void 0:s.state,", ",(r=a==null?void 0:a.address)==null?void 0:r.city]}),e.jsx("h1",{className:"",children:l(a==null?void 0:a.date)}),e.jsx("h1",{className:"",children:d(a==null?void 0:a.time)})]})]},a._id)}):e.jsx("p",{children:"No upcoming events"})})},k=()=>{const[i,l]=m.useState(null);m.useContext(h);const d=async()=>{try{const c=await p();c.success&&l(c.events)}catch(c){console.error("FindAllEvents - Error:",c.response)}};return m.useEffect(()=>{d()},[]),e.jsxs("div",{className:"homepage-container",children:[e.jsx("h1",{className:"become-promoter",children:"Become a promoter"}),e.jsx(g,{}),e.jsxs("div",{className:"home-search-bar-container",children:[e.jsx("input",{type:"search",className:"home-search-bar",placeholder:"Search..."}),e.jsx("button",{className:"button search-button",children:e.jsx("span",{className:"span",children:"ðŸ”Ž"})})]}),e.jsx("h1",{className:"home-carousel-title",children:"Feature Events"}),e.jsx(D,{events:i}),e.jsx("h1",{className:"home-carousel-title",children:"Upcoming Events"}),e.jsx(b,{events:i}),e.jsxs("div",{className:"logos-parent",children:[e.jsx("hr",{className:"logos-hr"}),e.jsx("h1",{className:"powered-by",children:"Powered By"}),e.jsxs("div",{className:"logos-container",children:[e.jsx("div",{className:"logo-smp"}),e.jsx("div",{className:"logo-visa"}),e.jsx("div",{className:"logo-visa-secure"}),e.jsx("div",{className:"logo-mastercard"}),e.jsx("div",{className:"logo-mastercard-secure"})]})]})]})};export{k as default};
